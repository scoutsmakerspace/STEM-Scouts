.stem-map { margin-top: 1.5rem; }
.stem-map__intro { margin: 0.25rem 0 1rem; opacity: 0.9; }
.stem-map__panel { border: 1px solid rgba(0,0,0,.12); border-radius: 10px; padding: 1rem; background: rgba(0,0,0,.02); }
.stem-map__controls { display: grid; gap: 0.75rem; margin-bottom: 0.75rem; }
.stem-map__row { display: grid; grid-template-columns: repeat(4, minmax(0, 1fr)); gap: 0.75rem; }
.stem-map__row--small { grid-template-columns: 1fr 1fr; }
.stem-map__label span { display: block; font-size: 0.85rem; opacity: 0.85; margin-bottom: 0.25rem; }
.stem-map__label input, .stem-map__label select { width: 100%; padding: 0.5rem 0.6rem; border-radius: 8px; border: 1px solid rgba(0,0,0,.2); background: #fff; }
.stem-map__check { display: flex; align-items: center; gap: 0.5rem; font-size: 0.95rem; }
.stem-map__status { font-size: 0.9rem; opacity: 0.85; margin: 0.25rem 0 0.75rem; }
.stem-map__card { border: 1px solid rgba(0,0,0,.12); border-radius: 10px; padding: 0.25rem 0.75rem; background: #fff; margin-bottom: 0.6rem; }
.stem-map__card-sum { cursor: pointer; list-style: none; display: grid; grid-template-columns: 1fr auto; gap: 0.5rem; align-items: start; padding: 0.5rem 0; }
.stem-map__badge { font-weight: 700; }
.stem-map__meta { display: block; font-size: 0.85rem; opacity: 0.75; margin-top: 0.2rem; }
.stem-map__count { font-size: 0.85rem; opacity: 0.8; white-space: nowrap; margin-top: 0.1rem; }
.stem-map__reqs { margin: 0.4rem 0 0.8rem 0; padding-left: 1rem; }
.stem-map__req { margin: 0.55rem 0; }
.stem-map__req-head { display: flex; gap: 0.6rem; align-items: baseline; }
.stem-map__req-id { font-weight: 700; }
.stem-map__req-areas { font-size: 0.8rem; opacity: 0.75; }
.stem-map__req-text { margin-top: 0.2rem; }
.stem-map__reason { margin-top: 0.25rem; font-size: 0.9rem; opacity: 0.9; }
.stem-map__how { margin-top: 0.75rem; }
.stem-map__empty, .stem-map__error { padding: 0.75rem; border-radius: 10px; background: rgba(0,0,0,.03); }
@media (max-width: 900px) {
  .stem-map__row { grid-template-columns: 1fr; }
  .stem-map__row--small { grid-template-columns: 1fr; }
}
