.stem-badge-map { margin-top: 1.5rem; }
.stem-badge-map__controls { display: flex; flex-wrap: wrap; gap: 0.75rem 1rem; align-items: end; margin-bottom: 0.75rem; }
.stem-badge-map__control { display: flex; flex-direction: column; gap: 0.25rem; min-width: 220px; }
.stem-badge-map__control--checkbox { min-width: auto; padding-top: 1.5rem; }
.stem-badge-map__control input[type="search"], .stem-badge-map__control select {
  padding: 0.45rem 0.6rem;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 6px;
  font-size: 0.95rem;
}
.stem-badge-map__intro { margin: 0.75rem 0 1rem; }

.stem-badge-map__badge {
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 10px;
  padding: 0.8rem;
  margin-bottom: 0.75rem;
  background: rgba(0,0,0,0.02);
}
.stem-badge-map__badge > summary {
  cursor: pointer;
  list-style: none;
  display: flex;
  gap: 0.5rem;
  align-items: center;
}
.stem-badge-map__badge > summary::-webkit-details-marker { display: none; }

.stem-badge-map__badge-icon{
  width:32px;height:32px;flex:0 0 32px;object-fit:contain;
  margin-right:8px;border-radius:4px;
}

.stem-badge-map__badge-title { font-weight: 700; }
.stem-badge-map__badge-meta { opacity: 0.75; font-size: 0.9rem; margin-left: 0.25rem; }
.stem-badge-map__counts { margin-left: auto; display: flex; gap: 0.75rem; opacity: 0.8; }
.stem-badge-map__count { white-space: nowrap; }

.stem-badge-map__activities { margin-top: 0.65rem; padding-top: 0.65rem; border-top: 1px solid rgba(0,0,0,0.12); }
.stem-badge-map__activities-title { font-weight: 600; margin-bottom: 0.25rem; }
.stem-badge-map__activities ul { margin: 0.25rem 0 0.25rem 1.2rem; }

.stem-badge-map__reqs { margin-top: 0.65rem; }

.stem-req { border-top: 1px dashed rgba(0,0,0,0.18); padding-top: 0.6rem; margin-top: 0.6rem; }
.stem-req__header { display: flex; gap: 0.5rem; align-items: baseline; flex-wrap: wrap; }
.stem-req__ref { font-weight: 700; }
.stem-req__text { font-weight: 600; }
.stem-req__tag { font-size: 0.8rem; padding: 0.1rem 0.45rem; border: 1px solid rgba(0,0,0,0.2); border-radius: 999px; opacity: 0.8; }
.stem-req__areas { margin: 0.35rem 0; display: flex; gap: 0.35rem; flex-wrap: wrap; }
.stem-req__chip { font-size: 0.82rem; padding: 0.1rem 0.45rem; border-radius: 999px; background: rgba(0,0,0,0.06); }
.stem-req__why { margin: 0.35rem 0; }

.stem-req__prompts { margin-top: 0.35rem; }
.stem-req__prompts summary { font-weight: 600; opacity: 0.9; cursor: pointer; }
.stem-prompts-lines { margin-top: 0.5rem; }
.stem-prompt-line { margin: 0.15rem 0; }

.stem-badge-map__footnote { margin-top: 1rem; font-size: 0.9rem; opacity: 0.75; }
